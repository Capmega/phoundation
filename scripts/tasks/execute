#!/usr/bin/php
<?php

declare(strict_types=1);

use Phoundation\Cli\Color;
use Phoundation\Cli\Documentation;
use Phoundation\Core\Config;
use Phoundation\Core\Libraries\Libraries;
use Phoundation\Core\Log\Log;
use Phoundation\Core\Numbers;
use Phoundation\Core\Strings;
use Phoundation\Data\Validator\ArgvValidator;
use Phoundation\Developer\Debug;
use Phoundation\Processes\Task;
use Phoundation\Utils\Json;


/**
 * Script tasks/execute
 *
 * This script will display detailed information about the current framework, project, database ,etc.
 *
 * @author Sven Olaf Oostenbrink <so.oostenbrink@gmail.com>
 * @license http://opensource.org/licenses/GPL-2.0 GNU Public License, Version 2
 * @copyright Copyright (c) 2022 Sven Olaf Oostenbrink <so.oostenbrink@gmail.com>
 * @package Phoundation\Scripts
 */
Documentation::usage('./pho tasks execute');
Documentation::help('This script can execute one or multiple tasks.

If a task id has been specified, then that specific task will be executed. If not, the system will scan for tasks that are due to be executed and execute them in order.


ARGUMENTS


[-t, --task ID]                         The ID of a specific task that should be executed');


$argv = ArgvValidator::new()
    ->select('-t,--task', true)->isInteger()
    ->noArgumentsLeft();


if (empty($argv['task'])) {

} else {
    // Execute this specific task
    $task = Task::get($argv['task'])->execute();
}